"0","  # rand_forest(mtry = 4, trees = 500, min_n = 1)"
"0","# "
"0","# rf_mod <-"
"0","#   rand_forest() %>% "
"0","#   set_engine(""ranger"") %>% "
"0","#   set_mode(""regression"")"
"0","# rf_wf <-"
"0","#   tree_wf %>% "
"0","#   update_model(rf_mod)"
"0","# set.seed(100)"
"0","# rf_wf %>% "
"0","#   fit_resamples(resamples = alz_folds) %>% "
"0","#   collect_metrics()"
"0","# "
"0","# rf3_mod <- rf_mod %>% "
"0","#   set_args(mtry = 3) "
"0","# "
"0","# rf8_mod <- rf_mod %>% "
"0","#   set_args(mtry = 8) "
"0","# "
"0","# rf30_mod <- rf_mod %>% "
"0","#   set_args(mtry = 30) "
"0","# "
"0","# rf3_wf <- rf_wf %>% "
"0","#   update_model(rf3_mod)"
"0","# set.seed(100)"
"0","# rf3_wf %>% "
"0","#   fit_resamples(resamples = alz_folds) %>% "
"0","#   collect_metrics()"
"0","# "
"0","# tree_wf <-"
"0","#   workflow() %>% "
"0","#   add_formula(Class ~ .) %>% "
"0","#   add_model(tree_mod)"
"0","# "
"0","# set.seed(100)"
"0","# tree_wf %>% "
"0","#   fit_resamples(resamples = alz_folds) %>% "
"0","#   collect_metrics()"
"0","# "
"0"," asy_dec_model <- asylum_decisions %>%"
"0","            filter(dec_recognized + dec_other + dec_rejected + dec_closed == dec_total) %>%"
"0","            mutate(acceptance_rate_pct = (dec_recognized + dec_other)/dec_total)"
"0","#  "
"0","#  rf_mod <- "
"0","#   rand_forest() %>% "
"0","#   set_engine(""ranger"") %>% "
"0","#   set_mode(""classification"")"
"0","# rf_wf <-"
"0","#   workflow() %>% "
"0","#   add_formula(Class ~ .) %>% "
"0","#   add_model(rf_mod)"
"0","# "
"0","# set.seed(100) # Important!"
"0","# rf_results <-"
"0","#   rf_wf %>% "
"0","#   fit_resamples(resamples = alz_folds,"
"0","#                 metrics = metric_set(roc_auc))"
"0","# rf_results %>% "
"0","#   collect_metrics()"
"0","# "
"0",""
"0","  set.seed(100) # Important!"
"0",""
"0","  asylum_split  <- initial_split(asy_dec_model)"
"0","  asylum_train  <- training(asylum_split)"
"0","  asylum_test   <- testing(asylum_split)"
"0","  asylum_folds <- "
"0","    vfold_cv(asylum_train, v = 10, strata = acceptance_rate_pct, breaks = 5)"
"0",""
"0","  rf_mod <-"
"0","    rand_forest() %>%"
"0","    set_engine(""ranger"") %>%"
"0","    set_mode(""regression"")"
"0","  "
"0","  rf_wf <-"
"0","    workflow() %>% "
"0","    add_formula(acceptance_rate_pct ~ coo_iso + coa_iso + procedure_type + dec_level + dec_pc) %>% "
"0","    add_model(rf_mod)"
"0",""
"0","  rf_tuner <-"
"0","    rand_forest(mtry = tune(),"
"0","                min_n = tune()) %>%"
"0","    set_engine(""ranger"") %>%"
"0","    set_mode(""regression"")"
"0","  "
"0","  # rf_wf <-"
"0","  #   workflow() %>%"
"0","  #   add_formula(acceptance_rate_pct ~ coo_iso + coa_iso + procedure_type + dec_level + dec_pc) %>%"
"0","  #   add_model(tree_mod)"
"0","  "
"0","  rf_wf <-"
"0","    rf_wf %>%"
"0","    update_model(rf_tuner)"
"0","  "
"0","  "
"0","  set.seed(100) # Important!"
"0","  rf_results <-"
"0","    rf_wf %>%"
"0","    tune_grid(resamples = asylum_folds,"
"0","              metrics = metric_set(rmse))"
"2","[34mi[39m [30mCreating pre-processing data to finalize unknown parameter: mtry[39m
"
"2","Warning: package â€˜rangerâ€™ was built under R version 4.3.3"
"0","rf_results %>%"
"0","  collect_metrics()"
