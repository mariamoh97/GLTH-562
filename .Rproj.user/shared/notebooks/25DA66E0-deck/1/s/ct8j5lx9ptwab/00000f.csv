"0","df <- read_csv(""https://raw.githubusercontent.com/GDS-ODSSS/unhcr-dataviz-platform/master/data/correlation/heatmap.csv"")"
"2","[1mRows: [22m[34m70[39m [1mColumns: [22m[34m3[39m"
"2","[36mâ”€â”€[39m [1mColumn specification[22m [36mâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€[39m
[1mDelimiter:[22m "",""
[31mchr[39m (1): location
[32mdbl[39m (2): year, values"
"2","
[36mâ„¹[39m Use `spec()` to retrieve the full column specification for this data.
[36mâ„¹[39m Specify the column types or set `show_col_types = FALSE` to quiet this message."
"0","# Plot"
"0","ggplot("
"0","  df,"
"0","  aes("
"0","    x = year,"
"0","    y = fct_rev(location)"
"0","  )"
"0",") +"
"0","  geom_tile(aes("
"0","    fill = values"
"0","  ),"
"0","  color = ""white"","
"0","  lwd = .5,"
"0","  linetype = 1"
"0","  ) +"
"0","  geom_text("
"0","    aes("
"0","      label = scales::number(values, accuracy = 0.1)"
"0","    ),"
"0","    color = if_else(df$values > 2, ""white"", unhcr_pal(n = 5, ""pal_grey"")[5]),"
"0","    size = 8 / .pt"
"0","  ) +"
"0","  labs("
"0","    title = ""Refugee population by region | 2011 - 2020"","
"0","    subtitle = ""Number of people in millions"","
"0","    caption = ""Source: UNHCR Refugee Data Finder\nÂ© UNHCR, The UN Refugee Agency"""
"0","  ) +"
"0","  scale_x_continuous("
"0","    expand = expansion(c(0, 0)),"
"0","    breaks = pretty_breaks(n = 10)"
"0","  ) +"
"0","  scale_y_discrete("
"0","    labels = scales::label_wrap(17)"
"0","  ) +"
"0","  scale_fill_stepsn("
"0","    colors = unhcr_pal(n = 5, ""pal_blue""),"
"0","    n.break = 5"
"0","  ) +"
"0","  coord_fixed() +"
"0","  theme_unhcr("
"0","    grid = FALSE,"
"0","    axis = FALSE,"
"0","    axis_title = FALSE,"
"0","    legend = FALSE"
"0","  )"
"0",""
